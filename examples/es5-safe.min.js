// es5-safe
// ----------------
// Provides compatibility shims so that legacy JavaScript engines behave as
// closely as possible to ES5.
//
// Thanks to:
//  - http://es5.github.com/
//  - http://kangax.github.com/es5-compat-table/
//  - https://github.com/kriskowal/es5-shim
//  - http://perfectionkills.com/extending-built-in-native-objects-evil-or-not/
//  - https://gist.github.com/1120592
//  - https://code.google.com/p/v8/
!function(){var t=Object.prototype,r=Array.prototype,n=Function.prototype,e=String.prototype,i=t.hasOwnProperty,o=r.slice;n.bind||(n.bind=function(t){function r(){if(this instanceof r){var i=function(t){var r;if(Object.create)r=Object.create(t);else{function n(){}n.prototype=t,r=new n}return r}(n.prototype),a=n.apply(i,e.concat(o.call(arguments)));return Object(a)===a?a:i}return n.apply(t,e.concat(o.call(arguments)))}var n=this;if("function"!=typeof n)throw new TypeError("Bind must be called on a function");var e=o.call(arguments,1);return r}),Object.keys||(Object.keys=function(){var t=!{toString:""}.propertyIsEnumerable("toString"),r=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],n=r.length;return function(e){if(e!==Object(e))throw new TypeError(e+" is not an object");var o=[];for(var a in e)i.call(e,a)&&o.push(a);if(t)for(var f=0;f<n;f++)i.call(e,r[f])&&o.push(r[f]);return o}}()),Array.isArray||(Array.isArray=function(r){return"[object Array]"===t.toString.call(r)}),r.forEach||(r.forEach=function(t,r){for(var n=0,e=this.length>>>0;n<e;n++)n in this&&t.call(r,this[n],n,this)}),r.map||(r.map=function(t,r){for(var n=this.length>>>0,e=new Array(n),i=0;i<n;i++)i in this&&(e[i]=t.call(r,this[i],i,this));return e}),r.filter||(r.filter=function(t,r){for(var n,e=[],i=0,o=this.length>>>0;i<o;i++)i in this&&(n=this[i],t.call(r,n,i,this)&&e.push(n));return e}),r.every||(r.every=function(t,r){for(var n=0,e=this.length>>>0;n<e;n++)if(n in this&&!t.call(r,this[n],n,this))return!1;return!0}),r.some||(r.some=function(t,r){for(var n=0,e=this.length>>>0;n<e;n++)if(n in this&&t.call(r,this[n],n,this))return!0;return!1}),r.reduce||(r.reduce=function(t){if("function"!=typeof t)throw new TypeError(t+" is not an function");var r,n=this.length>>>0,e=0;if(arguments.length>1)r=arguments[1];else for(;;){if(e in this){r=this[e++];break}if(++e>=n)throw new TypeError("reduce of empty array with on initial value")}for(;e<n;e++)e in this&&(r=t.call(null,r,this[e],e,this));return r}),r.reduceRight||(r.reduceRight=function(t){if("function"!=typeof t)throw new TypeError(t+" is not an function");var r,n=(this.length>>>0)-1;if(arguments.length>1)r=arguments[1];else for(;;){if(n in this){r=this[n--];break}if(--n<0)throw new TypeError("reduce of empty array with on initial value")}for(;n>=0;n--)n in this&&(r=t.call(null,r,this[n],n,this));return r}),r.indexOf||(r.indexOf=function(t,r){var n=this.length>>>0;for(r=Number(r)||0,(r=Math[r<0?"ceil":"floor"](r))<0&&(r=Math.max(r+n,0));r<n;r++)if(r in this&&this[r]===t)return r;return-1}),r.lastIndexOf||(r.lastIndexOf=function(t,r){var n=this.length>>>0;for(r=Number(r)||n-1,(r=Math[r<0?"ceil":"floor"](r))<0&&(r+=n),r=Math.min(r,n-1);r>=0;r--)if(r in this&&this[r]===t)return r;return-1}),e.trim||(e.trim=function(){var t=["\\s","00A0","1680","180E","2000-\\u200A","200B","2028","2029","202F","205F","3000"].join("\\u"),r=new RegExp("^["+t+"]+"),n=new RegExp("["+t+"]+$");return function(){return String(this).replace(r,"").replace(n,"")}}()),Date.now||(Date.now=function(){return+new Date})}();
